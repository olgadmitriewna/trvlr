<div class="container mt-6">
  <div class="d-flex flex-column bd-highlight mb-2">
    <div class="p-2 m-6 bd-highlight text-center">
      <img class="avatar-large mt-6" alt="avatar-large" src="<%= @user.photo %>">
    </div>
  </div>

  <div class="p-2 bd-highlight">
    <h2 class="card-description text-center">Hello, I'm <%=@user.first_name%></h2>
  </div>

  <div class="container my-5">
    <p>Name: <%= @user.first_name %> <%= @user.last_name %></p>
    <p>Bio: <%= @user.bio %></p>
    <p>Interested in traveling to: <%= @user.travel_interests %></p>
    <p>Has traveled to:</p>
    <% if @user.visits.any? %>
      <ul>
        <% @countries_visited.each do |c| %>
          <li><%= c.name %></li>
        <% end %>
      </ul>
    <% end %>

    <% if @user == current_user %>
      <p><%= link_to "Edit your profile", edit_user_registration_path, class: "btn btn-primary"%></p>
    <% end %>

  <h2 id="trtarget">Travel Interests</h2>

    <div class="row">
      <% @countries.each do |country| %>
        <div class="col-6">
          <div class="country-card-profile" style='background-image: url("<%= country.photo %>")'>
            <a rel="stylesheet" href="/profile/<%= @user.id %>?country=<%= country.id %>#trtarget">
              <p><%= country.name %></p>
             </a>
          </div>
        </div>
      <% end %>
   </div>

  <% if @country %>
    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
      <li class="nav-item">
        <a class="nav-link" id="pills-vocabulary-tab" data-toggle="pill" href="#pills-vocabulary" role="tab" aria-controls="pills-vocabulary" aria-selected="false">Vocabulary</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="pills-places-tab" data-toggle="pill" href="#pills-places" role="tab" aria-controls="pills-places" aria-selected="false">Places</a>
      </li>
    </ul>


    <div class="tab-pane fade" id="pills-vocabulary" role="tabpanel" aria-labelledby="pills-vocabulary-tab">
      <ul>
        <div class='phrases' style="grid-template-columns: 1fr;">
          <% @phrases.each do |phrase| %>
            <li style="display: flex;">
              <div class='english'>
                <p> <%= phrase.english %> : </p>
              </div>
              <div class='translated'>
                <%= phrase.translation %>
              </div>
            </li>
          <% end %>
        </div>
      </ul>
    </div>


    <div class="tab-pane fade" id="pills-places" role="tabpanel" aria-labelledby="pills-places-tab">
      <div class="row justify-content-around">
        <% @places.each do |user_place| %>
          <div class="info-window col-xs-6">
            <div class="d-flex">
              <h1><%= user_place.place.name %></h1>
              <img class="place-img" src="<%= user_place.place.photo%>" >
              <p><b>City:</b> <%= user_place.place.city %></p>
              <%= link_to 'More info', user_place.place.link, class: "btn btn-flat btn-primary" %>
            </div>
          </div>
        <% end %>
      </div>
    </div>

  <% end %>

  <div>
    <h2>Previous trvlr destinations</h2>
    <p>Add places youâ€™ve traveled to, so trvlrs can connect with you and ask questions about it</p>
      <%= form_tag visits_path, method: :post, class: "country-list" do |f| %>
          <h2>Which country you been to?</h2>
          <%= select_tag 'country_id', options_for_select(Country.all.collect{ |c| [c.name, c.id] }) %>
        <%= submit_tag "Submit", class: "btn btn-primary"  %>
      <% end %>
  </div>

  <div>
    <p><%= link_to "Back", countries_path, class: "btn btn-primary"%></p>
  </div>

</div>


